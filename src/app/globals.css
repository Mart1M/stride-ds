@import "tailwindcss";
@import "./brands.css";

:root {
  /* === STRIDE DESIGN SYSTEM FOUNDATION TOKENS === */
  /* Note: All semantic and brand-specific tokens are managed in brands.css */

  /* === FOUNDATION TOKENS === */
  
  /* Spacing - Base scale (can be overridden by brands like Forest) */
  --spacing-0: 0;
  --spacing-xs: 0.25rem;
  --spacing-sm: 0.5rem;
  --spacing-md: 0.75rem;
  --spacing-lg: 1rem;
  --spacing-xl: 1.5rem;
  --spacing-2xl: 2rem;
  --spacing-3xl: 3rem;
  --spacing-4xl: 4rem;
  --spacing-5xl: 6rem;

  /* Border radius */
  --radius-none: 0;
  --radius-xs: 0.125rem;
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-3xl: 1.5rem;
  --radius-full: 9999px;

  /* Typography */
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-md: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  --font-size-5xl: 3rem;

  --font-weight-light: 300;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Shadows */
  --shadow-none: none;
  --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-skeuomorphic: 0 0 0 1px rgba(10, 13, 18, 0.18) inset, 0 -2px 0 0 rgba(10, 13, 18, 0.05) inset, 0 1px 2px 0 rgba(10, 13, 18, 0.05);

  /* Focus ring */
  --focus-ring-color: var(--border-focus);
  --focus-ring-width: 2px;
  --focus-ring-offset: 1px;

  /* Transitions */
  --transition-fast: 150ms ease-in-out;
  --transition-normal: 200ms ease-in-out;
  --transition-slow: 300ms ease-in-out;

  /* === COMPONENT TOKENS === */
  
  /* Button tokens */
  --button-height-sm: 2rem;
  --button-height-md: 2.5rem;
  --button-height-lg: 3rem;
  --button-padding-sm: 0 0.75rem;
  --button-padding-md: 0 1rem;
  --button-padding-lg: 0 1.5rem;
  --button-icon-size-sm: 0.875rem;
  --button-icon-size-md: 1rem;
  --button-icon-size-lg: 1.125rem;
  --radius-button: var(--radius-full); /* Default, can be overridden by brands */

  /* Input tokens */
  --input-height-sm: 2.25rem;
  --input-height-md: 2.75rem;
  --input-height-lg: 3.25rem;
  --input-padding: 0 0.75rem;
  --input-border-width: 1px;

  /* Card tokens */
  --card-padding-sm: 1rem;
  --card-padding-md: 1.5rem;
  --card-padding-lg: 2rem;
  --card-radius: var(--radius-3xl);
  --card-border-width: 1px;

  /* Global theme fallback values - brands.css will override these */
  --background: #ffffff;
  --foreground: #1e293b;
}


.brand-forest {
  --card-radius: var(--radius-md);
  --radius-button: var(--radius-sm);
}

/* === TAILWIND CSS V4 CONFIGURATION === */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-family-primary);
  
  /* Brand-aware color mapping for Tailwind */
  /* These automatically adapt to the active brand via semantic tokens */
  --color-primary: var(--interactive-primary);
  --color-success: var(--status-success);
  --color-warning: var(--status-warning);
  --color-danger: var(--status-danger);
  
  /* Focus ring color for Tailwind utilities */
  --color-focus: var(--border-focus);
  
  /* Semantic neutral scale that adapts to brand */
  --color-neutral-0: var(--bg-primary);
  --color-neutral-50: var(--bg-secondary);
  --color-neutral-100: var(--bg-tertiary);
  --color-neutral-200: var(--border-primary);
  --color-neutral-300: var(--border-secondary);
  --color-neutral-400: var(--border-strong);
  --color-neutral-500: var(--text-tertiary);
  --color-neutral-600: var(--text-secondary);
  --color-neutral-700: var(--border-inverse);
  --color-neutral-800: var(--text-primary);
  --color-neutral-900: var(--bg-inverse);
}

/* === LEGACY DARK MODE SUPPORT === */
/* Note: Primary dark mode handling is now in brands.css per brand */
/* These are fallbacks for when no brand is active */

@media (prefers-color-scheme: dark) {
  :root {
    --background: #1e293b;
    --foreground: #f8fafc;
  }
}

/* Manual theme classes for explicit control */
html.light,
html.light :root,
.light {
  color-scheme: light !important;
  --background: #ffffff !important;
  --foreground: #1e293b !important;
}

html.dark,
html.dark :root,
.dark {
  color-scheme: dark !important;
  --background: #1e293b !important;
  --foreground: #f8fafc !important;
}

/* === BASE STYLES === */

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-family-primary);
}

/* === GLOBAL FOCUS RING UTILITY === */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-offset-1;
  --tw-ring-color: var(--border-focus);
}

.focus-ring-danger {
  @apply focus:outline-none focus:ring-2 focus:ring-offset-1;
  --tw-ring-color: var(--status-danger);
}

.focus-ring-success {
  @apply focus:outline-none focus:ring-2 focus:ring-offset-1;
  --tw-ring-color: var(--status-success);
}

/* Ensure Storybook UI adapts to theme */
html.light body,
html.light #storybook-root,
.light body,
.light #storybook-root {
  background: var(--background) !important;
  color: var(--foreground) !important;
}

html.dark body,
html.dark #storybook-root,
.dark body,
.dark #storybook-root {
  background: var(--background) !important;
  color: var(--foreground) !important;
}